---
phase: 12-design-polish
plan: 02
type: execute
wave: 2
depends_on: ["12-01"]
files_modified:
  - src/app/dashboard/signals/page.tsx
  - src/app/dashboard/emails/page.tsx
  - src/app/dashboard/accounts/page.tsx
  - src/components/signals/email-generator.tsx
autonomous: true

must_haves:
  truths:
    - "All list pages use EmptyState component with consistent styling"
    - "Copy email action shows toast notification"
    - "Email generation shows toast on success and error"
    - "Filter bars have consistent styling across all pages"
  artifacts:
    - path: "src/app/dashboard/signals/page.tsx"
      provides: "Signals page with EmptyState"
      contains: "EmptyState"
    - path: "src/app/dashboard/emails/page.tsx"
      provides: "Emails page with EmptyState"
      contains: "EmptyState"
    - path: "src/app/dashboard/accounts/page.tsx"
      provides: "Accounts page with EmptyState"
      contains: "EmptyState"
  key_links:
    - from: "src/app/dashboard/signals/page.tsx"
      to: "src/components/ui/empty-state.tsx"
      via: "component import"
      pattern: "EmptyState"
    - from: "src/components/signals/email-generator.tsx"
      to: "sonner"
      via: "toast function"
      pattern: "toast\\."
---

<objective>
Apply EmptyState component to all pages and add toast notifications for remaining user actions

Purpose: Consistent visual design and user feedback across the entire application
Output: Unified empty states, toast feedback for copy/generate actions
</objective>

<execution_context>
@/home/qualia/.claude/get-shit-done/workflows/execute-plan.md
@/home/qualia/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan summary for EmptyState component
@.planning/phases/12-design-polish/12-01-SUMMARY.md

# Source files to modify
@src/app/dashboard/signals/page.tsx
@src/app/dashboard/emails/page.tsx
@src/app/dashboard/accounts/page.tsx
@src/components/signals/email-generator.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Refactor Signals page empty state to use EmptyState component</name>
  <files>src/app/dashboard/signals/page.tsx</files>
  <action>
    1. Add imports at top:
       ```tsx
       import { EmptyState } from "@/components/ui/empty-state";
       import { Radio } from "lucide-react";
       ```
       (Radio icon may already be imported)

    2. Replace the existing empty state block (around line 560-588) with:
       ```tsx
       {!isLoading && !error && signals.length === 0 && (
         <EmptyState
           icon={Radio}
           title="No signals detected"
           description={
             hasActiveFilters
               ? "No signals match your current filters. Try adjusting or clearing your filters."
               : "Axidex will automatically detect buying signals when you configure your signal sources."
           }
         >
           {hasActiveFilters && (
             <Button onClick={clearAllFilters}>Clear Filters</Button>
           )}
           <Link href="/dashboard/settings">
             <Button variant={hasActiveFilters ? "outline" : "default"}>
               <Settings className="size-4 mr-1.5" />
               Configure Sources
             </Button>
           </Link>
         </EmptyState>
       )}
       ```

    Note: Preserve existing functionality, just use the reusable component.
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - Visit /dashboard/signals with no data: EmptyState renders correctly
  </verify>
  <done>Signals page uses EmptyState component</done>
</task>

<task type="auto">
  <name>Task 2: Refactor Emails and Accounts pages to use EmptyState</name>
  <files>src/app/dashboard/emails/page.tsx, src/app/dashboard/accounts/page.tsx</files>
  <action>
    **For Emails page (src/app/dashboard/emails/page.tsx):**

    1. Add imports:
       ```tsx
       import { EmptyState } from "@/components/ui/empty-state";
       import { Mail } from "lucide-react"; // for empty state icon
       ```

    2. Replace empty state (around line 428-462) with:
       ```tsx
       {!isLoading && !error && emails.length === 0 && (
         <EmptyState
           icon={Mail}
           title="No emails yet"
           description={
             activeTones.length > 0 || activeStatuses.length > 0 || searchQuery || from
               ? "No emails match your current filters. Try adjusting your filters or clearing them to see all emails."
               : "Generate emails from your signals to start building your outreach library. Click 'Draft Email' on any signal to get started."
           }
         >
           {(activeTones.length > 0 || activeStatuses.length > 0 || searchQuery || from) && (
             <Button onClick={() => router.push("/dashboard/emails")}>
               Clear Filters
             </Button>
           )}
           <Button
             variant={activeTones.length > 0 || activeStatuses.length > 0 || searchQuery || from ? "outline" : "default"}
             onClick={() => router.push("/dashboard/signals")}
           >
             View Signals
           </Button>
         </EmptyState>
       )}
       ```

    **For Accounts page (src/app/dashboard/accounts/page.tsx):**

    1. Add imports:
       ```tsx
       import { EmptyState } from "@/components/ui/empty-state";
       import { Building2 } from "lucide-react"; // for empty state icon
       ```

    2. Replace empty state (around line 271-305) with:
       ```tsx
       {!isLoading && !error && accounts.length === 0 && (
         <EmptyState
           icon={Building2}
           title="No accounts found"
           description={
             searchQuery || minSignals > 0
               ? "No accounts match your current filters. Try adjusting your filters or clearing them to see all accounts."
               : "Accounts are automatically created from your signals. Once you have signals for companies, they will appear here."
           }
         >
           {(searchQuery || minSignals > 0) && (
             <Button onClick={() => router.push("/dashboard/accounts")}>
               Clear Filters
             </Button>
           )}
           <Button
             variant={searchQuery || minSignals > 0 ? "outline" : "default"}
             onClick={() => router.push("/dashboard/signals")}
           >
             View Signals
           </Button>
         </EmptyState>
       )}
       ```
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - Visit /dashboard/emails with no data: EmptyState renders
    - Visit /dashboard/accounts with no data: EmptyState renders
    - Both have consistent styling with signals page
  </verify>
  <done>Emails and Accounts pages use EmptyState component</done>
</task>

<task type="auto">
  <name>Task 3: Add toast notifications to email operations</name>
  <files>src/components/signals/email-generator.tsx</files>
  <action>
    1. Add import: `import { toast } from "sonner";`

    2. Find the copy-to-clipboard functionality and add toast:
       - After successful copy: `toast.success("Email copied to clipboard");`
       - On copy failure (if there's a catch): `toast.error("Failed to copy email");`

    3. Find email generation success/error handling:
       - On successful generation: `toast.success("Email generated");`
       - On generation error: `toast.error("Failed to generate email");`

    4. If there's a regenerate function, add similar toasts:
       - On success: `toast.success("Email regenerated");`
       - On error: `toast.error("Failed to regenerate email");`

    Note: Read the file first to understand the current structure. The component likely uses useState for loading/error states. Add toasts alongside existing error handling.
  </action>
  <verify>
    - `npm run build` passes
    - Visit a signal detail page, generate email: toast appears
    - Copy email to clipboard: toast appears
  </verify>
  <done>Email generator shows toast feedback for generate and copy actions</done>
</task>

</tasks>

<verification>
1. Run `npm run build` - should pass
2. Run `npx tsc --noEmit` - no type errors
3. Test empty states:
   - /dashboard/signals with no signals: shows EmptyState
   - /dashboard/emails with no emails: shows EmptyState
   - /dashboard/accounts with no accounts: shows EmptyState
   - All three have consistent styling (gradient icon, centered layout)
4. Test toasts:
   - Generate email on signal detail page: toast appears
   - Copy email: toast appears
5. Visual consistency: All empty states use same animation, spacing, typography
</verification>

<success_criteria>
- All list pages (signals, emails, accounts) use EmptyState component
- EmptyState styling is consistent across all pages
- Email copy action shows "Email copied to clipboard" toast
- Email generation shows success/error toasts
- Build passes with no type errors
</success_criteria>

<output>
After completion, create `.planning/phases/12-design-polish/12-02-SUMMARY.md`
</output>
